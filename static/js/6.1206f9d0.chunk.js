(this["webpackJsonpsocial-react"]=this["webpackJsonpsocial-react"]||[]).push([[6],{563:function(e,t,a){"use strict";a.r(t),a.d(t,"ProfilePage",(function(){return pe}));var n,l,c,r,o,i,u,s,m=a(37),d=a(0),b=a.n(d),E=a(24),p=a(219),f=a(34),O=a(118),g=a(38),j=a(149),v=a(111),y=a(158),h=a.n(y),k=a(191),x=function(e){var t=Object(d.useState)(!1),a=Object(j.a)(t,2),n=a[0],l=a[1],c=Object(d.useState)(e.status),r=Object(j.a)(c,2),o=r[0],i=r[1],u=Object(E.c)();Object(d.useEffect)((function(){i(e.status)}),[e.status]);return b.a.createElement("div",null,!n&&b.a.createElement("div",null,b.a.createElement("div",{style:{paddingTop:4,fontSize:"16px"},onDoubleClick:function(){e.isOwner&&l(!0)}},e.status||"----")),n&&b.a.createElement("div",null,b.a.createElement(k.a,{style:{width:"276px"},onChange:function(e){i(e.currentTarget.value)},autoFocus:!0,onBlur:function(){l(!1),u(Object(p.g)(o))},value:o})))},T=a(105),S=a(272),C=a(127),w=a(72),I=a(162),z=a(565),M=g.b.div(n||(n=Object(m.a)(["\n  padding-top: 10px;\n"]))),P=Object(S.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return b.a.createElement("form",{onSubmit:t,style:{border:"1px solid #e4e4e4",borderRadius:2}},b.a.createElement("div",{style:{padding:10}},b.a.createElement(C.a,null,b.a.createElement(w.a,{style:{paddingRight:80}},b.a.createElement("h3",{style:{paddingTop:5}},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),b.a.createElement("div",null,Object.keys(a.contacts).map((function(e){return b.a.createElement(M,{key:e},b.a.createElement("span",null,e[0].toUpperCase()+e.substr(1)," ",Object(T.c)(e,"contacts."+e,[],T.a)))})))),b.a.createElement(w.a,null,b.a.createElement("h3",{style:{paddingTop:5}},"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),b.a.createElement(M,null,b.a.createElement("span",null,"\u041d\u0438\u043a\u043d\u0435\u0439\u043c"),Object(T.c)("\u041d\u0438\u043a\u043d\u0435\u0439\u043c...","fullName",[],T.a)),b.a.createElement(M,null,b.a.createElement("span",null,"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438"),Object(T.c)("\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438...","lookingForAJobDescription",[],T.b)),b.a.createElement(M,null,b.a.createElement("span",null,"\u041e \u0441\u0435\u0431\u0435"),Object(T.c)("\u041e \u0441\u0435\u0431\u0435...","aboutMe",[],T.a)),b.a.createElement(M,{style:{paddingTop:30}},b.a.createElement(I.a,{htmlType:"submit",onClick:function(){}},b.a.createElement(z.a,null)," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),n&&b.a.createElement("div",null,n)))))})),B=a(541),R=a(562),F=a(566),J=a(550),A=a(90),D=a(567),U=a(32),V=a(161),L=a(59),N=function(e){return e.profilePage},q=Object(L.a)([N],(function(e){return e.profile})),G=Object(L.a)([N],(function(e){return e.status})),H=Object(L.a)([N],(function(e){return e.posts})),K=Object(L.a)([N],(function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.photos.large})),Q=a(255),W=a(537),X=function(e){var t=e.contactTitle,a=e.contactValue;return b.a.createElement(C.a,null,b.a.createElement("span",null,t[0].toUpperCase()+t.substr(1),": \xa0"),b.a.createElement("a",{href:a},"@",a.substr(a.lastIndexOf("/")+1)))},Y=function(e){var t=e.profile;return b.a.createElement("div",null,b.a.createElement(W.a,{style:{marginBottom:7,marginTop:3}}),b.a.createElement("div",{style:{display:"inline-block"}},b.a.createElement(C.a,null,b.a.createElement(w.a,null,b.a.createElement("div",{style:{borderBottom:"2px gray solid"}},b.a.createElement("h3",null,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")),b.a.createElement(C.a,null,b.a.createElement(w.a,null,b.a.createElement("div",{style:{paddingTop:6}},b.a.createElement("h3",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b")))),b.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return t.contacts[e]?b.a.createElement(X,{key:e,contactTitle:e,contactValue:t.contacts[e]}):null})))))),b.a.createElement("div",{style:{display:"inline-block",paddingRight:70,paddingTop:50,width:500,float:"right"}},t.aboutMe&&b.a.createElement("span",null,b.a.createElement("span",{style:{fontSize:15,color:"gray"}},"\u041e \u0441\u0435\u0431\u0435:\xa0"),t.aboutMe),b.a.createElement("br",null),t.lookingForAJobDescription&&b.a.createElement("span",null,b.a.createElement("span",{style:{fontSize:15,color:"gray"}},"\u041f\u0440\u043e\u0444. \u043d\u0430\u0432\u044b\u043a\u0438:\xa0"),t.lookingForAJobDescription)))},Z=g.b.div(l||(l=Object(m.a)(["\n  //border: 1px black solid;\n"]))),$=Object(g.b)(B.a)(c||(c=Object(m.a)(["\n  width: 200px;\n  max-width: 100%;\n  border-radius: 2px;\n"]))),_=Object(g.b)(w.a)(r||(r=Object(m.a)(["\n  padding-right: 50px;\n"]))),ee=Object(g.b)(R.a)(o||(o=Object(m.a)(["\n  margin: 0;\n  padding: 2px 0 0 0;\n  border-bottom: 2px gray solid;\n"]))),te=Object(g.b)(C.a)(i||(i=Object(m.a)(["\n  color: gray;\n  font-size: 15px;\n"]))),ae=Object(g.b)(C.a)(u||(u=Object(m.a)(["\n  color: #416a92;\n  font-size: 15px;\n"]))),ne=function(e){var t=e.isOwner,a=e.profile,n=Object(d.useState)(!1),l=Object(j.a)(n,2),c=l[0],r=l[1],o=Object(E.d)(G),i=Object(E.d)(Q.b),u=Object(d.useRef)(null),s=Object(E.c)();Object(d.useEffect)((function(){s(Object(V.b)())}),[]);return a?b.a.createElement(Z,null,b.a.createElement(C.a,null,b.a.createElement(_,null,b.a.createElement($,{src:a.photos.large||h.a})),b.a.createElement(w.a,null,b.a.createElement(ee,{title:a.fullName,subTitle:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c, \u0413\u043e\u043c\u0435\u043b\u044c"}),b.a.createElement(x,{status:o,isOwner:t}),b.a.createElement("div",{style:{paddingTop:7,fontSize:15}},t?b.a.createElement(U.c,{to:"/friends",style:{color:"#06162a"}},b.a.createElement("span",{style:{color:"gray"}},"\u0414\u0440\u0443\u0437\u0435\u0439:\xa0"),b.a.createElement("span",null,i)):null),b.a.createElement("div",{style:{paddingTop:9}},b.a.createElement(C.a,null,b.a.createElement(w.a,null,b.a.createElement(te,null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"),b.a.createElement(te,null,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:"),b.a.createElement(te,null,"\u041e \u0441\u0435\u0431\u0435:")),b.a.createElement(w.a,{style:{paddingLeft:15}},b.a.createElement(ae,null,"+375 (33) 355-29-71"),b.a.createElement(ae,null,"21 \u0438\u044e\u043d\u044f 2000"),b.a.createElement(ae,null,a.aboutMe&&a.aboutMe.length>=50?"".concat(a.aboutMe.slice(0,50),"..."):a.aboutMe)))))),b.a.createElement(C.a,{style:{paddingTop:"15px"}},b.a.createElement(w.a,null,t?b.a.createElement(b.a.Fragment,null,b.a.createElement(I.a,{icon:b.a.createElement(F.a,null),onClick:function(){var e;null===u||void 0===u||null===(e=u.current)||void 0===e||e.click()}},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e"),b.a.createElement("input",{type:"file",style:{display:"none"},ref:u,onChange:function(e){e.target.files&&e.target.files.length&&s(Object(p.e)(e.target.files[0]))}})):b.a.createElement(I.a,null,b.a.createElement(U.c,{to:"/chat"},b.a.createElement(J.a,null)," \u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"))),b.a.createElement(w.a,{style:{paddingLeft:47}},t?b.a.createElement(C.a,null,b.a.createElement(I.a,{onClick:function(){r(!c)}},c?b.a.createElement("div",null,b.a.createElement(A.a,null)," \u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0440\u0435\u0436\u0438\u043c\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"):b.a.createElement("div",null,b.a.createElement(D.a,null)," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"))):null)),b.a.createElement("br",null),b.a.createElement("div",null,c?b.a.createElement(P,{initialValues:a,profile:a,onSubmit:function(e){s(Object(p.f)(e))}}):b.a.createElement(Y,{profile:a}))):b.a.createElement(v.a,null)},le=a(302),ce=a(532),re=a(568),oe=a(564),ie=function(e){var t=e.message,a=e.likesCount,n=e.date,l=e.id,c=e.profileImage,r=Object(d.useState)(a),o=Object(j.a)(r,2),i=o[0],u=o[1],s=Object(d.useState)(!1),m=Object(j.a)(s,2),f=m[0],O=m[1],g=Object(E.c)();return b.a.createElement("div",{style:{backgroundColor:"#f0f2f5",borderRadius:2,marginBottom:10}},b.a.createElement(le.b,{size:"large"},b.a.createElement(le.b.Item,null,b.a.createElement(le.b.Item.Meta,{avatar:b.a.createElement(ce.a,{src:c,size:{xs:24,sm:32,md:40,lg:64,xl:80,xxl:80}}),title:t,description:b.a.createElement("span",null,n.toISOString().substring(0,10)+" "+n.toISOString().substr(11,5),b.a.createElement("div",{style:{paddingTop:3}},b.a.createElement(re.a,{onClick:f?function(){u(a-1),O(!0)}:function(){u(a+1),O(!1)},twoToneColor:"#1890ff"})," ",i))}),b.a.createElement(oe.a,{style:{float:"right",fontSize:20},onClick:function(){g(p.a.deletePost(l))}}))))},ue=a(209),se=Object(ue.a)(400),me=Object(S.a)({form:"profile-add-new-post-form"})((function(e){return b.a.createElement("div",null,b.a.createElement("form",{onSubmit:e.handleSubmit},Object(T.c)("\u0427\u0442\u043e \u0443 \u0432\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?","newPostText",[ue.b,se],T.b),b.a.createElement("div",{style:{paddingBottom:11,paddingTop:15}},b.a.createElement(I.a,{htmlType:"submit"},"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"))))})),de=b.a.memo((function(){var e=Object(E.d)(H),t=Object(E.d)(K),a=Object(E.c)(),n=e.reverse().map((function(e){return b.a.createElement(ie,{profileImage:t,message:e.message,key:e.id,id:e.id,likesCount:e.likesCount,date:e.date})}));return b.a.createElement("div",null,b.a.createElement(W.a,{style:{marginBottom:7}}),b.a.createElement("h3",{style:{paddingTop:10}},"\u041c\u043e\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"),b.a.createElement(me,{onSubmit:function(e){a(p.a.addPostActionCreator(e.newPostText))}}),b.a.createElement("div",null,n))})),be=a(159),Ee=g.b.div(s||(s=Object(m.a)(["\n  width: 100%;\n"]))),pe=function(e){var t=e.history,a=e.match,n=Object(E.d)(O.c),l=(Object(E.d)(O.d),Object(E.d)(q)),c=Object(E.c)();return Object(d.useEffect)((function(){!function(){var e=+a.params.userId;e||(e=n)||t.push("/login"),e?(c(Object(p.d)(e)),c(Object(p.c)(e))):console.error("Id should exists in URI params or in state ('authorizedUserId')")}()}),[a.params.userId]),l?b.a.createElement(Ee,null,b.a.createElement(ne,{isOwner:!a.params.userId,profile:l}),a.params.userId?null:b.a.createElement(de,null)):b.a.createElement(v.a,null)};t.default=Object(be.a)(Object(f.h)(pe))}}]);
//# sourceMappingURL=6.1206f9d0.chunk.js.map