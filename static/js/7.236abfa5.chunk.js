(this["webpackJsonpsocial-react"]=this["webpackJsonpsocial-react"]||[]).push([[7],{519:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e,t,n){var a=e.currentTarget;Math.abs(a.scrollHeight-a.scrollTop-a.clientHeight)<70?!t&&n(!0):t&&n(!1)},r=function(e,t){var n,a,r,c=e.current;(t||(null===(n=c)||void 0===n?void 0:n.scrollHeight)-(null===(a=c)||void 0===a?void 0:a.scrollTop)-(null===(r=c)||void 0===r?void 0:r.clientHeight)<70)&&(null===c||void 0===c||c.scrollIntoView({behavior:"smooth"})),window.scrollTo(0,0)}},520:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a,r,c=n(17),l=n(18),o=n(492),i=n(521),u=n.n(i),s=Object(l.b)(o.a)(a||(a=Object(c.a)(["\n  padding: 20px 0 0 0;\n"]))),d=Object(l.b)(u.a)(r||(r=Object(c.a)(["\n  width: 500px;\n  height: 30px;\n"])))},532:function(e,t,n){"use strict";var a=n(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},c=n(13),l=function(e,t){return a.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};l.displayName="CloseCircleOutlined";t.a=a.forwardRef(l)},538:function(e,t,n){"use strict";n.r(t);var a,r,c,l,o,i,u,s,d,b,f,m,g,p=n(493),j=n(0),O=n.n(j),v=n(511),h=n(197),E=n(28),x=n(69),w=n(80),y=function(e){return e.dialogsPage},k=Object(x.a)([y],(function(e){return e.dialogs})),I=Object(x.a)([y],(function(e){return e.messages})),z=Object(x.a)([y],(function(e){return e.selectedUserId})),C=n(195),M=n(17),N=n(18),T=n(492),A=n(286),D=Object(N.b)(T.a)(a||(a=Object(M.a)(["\n  padding-right: 20px;\n  border-right: 1px #ebedee solid;\n  overflow-y: auto;\n  height: 565px;\n"]))),H=Object(N.b)(A.b)(r||(r=Object(M.a)(["\n  width: 300px;\n"]))),L=n(517),S=N.b.p(c||(c=Object(M.a)(["\n  margin: 0;\n  padding: 0;\n  color: gray;\n  font-size: 13px;\n"]))),U=Object(N.b)(T.a)(l||(l=Object(M.a)(["\n  padding-left: 20px;\n"]))),F=Object(N.b)(p.a)(o||(o=Object(M.a)(["\n  background-color: ",";\n  background-color: ",";\n  width: 300px;\n  padding: 10px;\n  cursor: pointer;\n  border-bottom: 1px #eef0f0 solid;\n"])),(function(e){return"1"===e.selecteddialog&&"#ebedee"}),(function(e){return e.hasnewmessage&&"#e6eff7"})),J=Object(N.b)(T.a)(i||(i=Object(M.a)(["\n  font-size: 16px;\n  margin-left: auto;\n  color: gray;\n"]))),P=n(494),R=n(532),V=n(32),B=function(e){return e.substr(5,5).split("-").join(".")+" \u0432 "+e.substr(11,5)},q=function(e){var t=e.hasNewMessage,n=e.photo,a=e.userName,r=e.lastUserActivityDate,c=e.newMessagesCount,l=e.userId,o=Object(E.c)(),i=Object(j.useState)("0"),u=Object(L.a)(i,2),s=u[0],d=u[1];return O.a.createElement(F,{hasnewmessage:t,selecteddialog:s,onClick:function(){d("1"),o(Object(C.c)(l))}},O.a.createElement(T.a,null,O.a.createElement(V.c,{to:"/profile/"+l},O.a.createElement(P.a,{size:"large",src:n}))),O.a.createElement(U,null,O.a.createElement("span",null,a),O.a.createElement(S,null,B(r))),O.a.createElement(J,null,O.a.createElement("span",null,0!==c&&c," "),O.a.createElement(R.a,null)))},G=function(e){var t=e.dialogs;return O.a.createElement(D,null,O.a.createElement(H,null,t.map((function(e){return O.a.createElement(q,{userId:e.id,key:e.id,userName:e.userName,lastUserActivityDate:e.lastUserActivityDate,newMessagesCount:e.newMessagesCount,photo:e.photos.small,hasNewMessage:e.hasNewMessage})}))))},K=N.b.div(u||(u=Object(M.a)(["\n  overflow-y: auto;\n  height: 100%;\n  border: 1px #ebedee solid;\n  border-radius: 2px;\n  background-color: #f3f5f7;\n"]))),Q=Object(N.b)(T.a)(s||(s=Object(M.a)(["\n  padding-left: 20px;\n  max-height: 515px;\n  width: 450px;\n"]))),W=N.b.h1(d||(d=Object(M.a)(["\n  text-align: center;\n  padding-top: 50%;\n  color: gray;\n"]))),X=N.b.div(b||(b=Object(M.a)(["\n  background-color: ",";\n  border-bottom: 1px #dadcdf solid;\n  padding: 13px 0 5px 10px;\n"])),(function(e){return!e.viewed&&"#e6eff7"})),Y=N.b.p(f||(f=Object(M.a)(["\n  padding: 0 0 0 5px;\n  margin: 0;\n  word-wrap: break-word\n"]))),Z=N.b.div(m||(m=Object(M.a)(["\n  color: gray;\n  font-size: 14px;\n  float: right;\n  padding-right: 10px;\n"]))),$=O.a.memo((function(e){var t=e.messageText,n=e.senderId,a=e.viewed,r=e.messageId,c=e.addedAt,l=Object(E.d)(function(e){return Object(x.a)([k,w.c,w.a],(function(t,n,a){var r=t.find((function(t){return t.id===e}));return e===n?["\u0412\u044b",a]:[null===r||void 0===r?void 0:r.userName,null===r||void 0===r?void 0:r.photos.small]}))}(n)),o=Object(E.c)();return O.a.createElement(X,{viewed:a},O.a.createElement(P.a,{size:"large",src:l[1],alt:"Dialog message"}),"\xa0",O.a.createElement("b",null,l[0]," "),O.a.createElement(Z,null,O.a.createElement("span",null," ",B(c))," \xa0",O.a.createElement(R.a,{onClick:function(){o(Object(C.b)(r))}})),O.a.createElement(Y,null,t))})),_=n(520),ee=n(521),te=n.n(ee),ne=Object(N.b)(te.a)(g||(g=Object(M.a)(["\n  height: 30px;\n  width: 450px;\n"]))),ae=function(){var e=Object(E.d)(z),t=Object(j.useState)(""),n=Object(L.a)(t,2),a=n[0],r=n[1],c=Object(E.c)();return O.a.createElement("form",null,O.a.createElement(p.a,null,O.a.createElement(_.a,null,O.a.createElement(ne,{placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...",autoSize:!0,onPressEnter:function(t){"Enter"===t.key&&t.preventDefault(),a&&(c(Object(C.e)(e,a)),r(""))},onChange:function(e){return r(e.currentTarget.value)},value:a}))))},re=n(519),ce=function(){var e=Object(E.d)(I),t=Object(j.useRef)(null),n=Object(E.d)(z),a=Object(E.c)();return Object(j.useEffect)((function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[]),Object(j.useEffect)((function(){Object(re.a)(t,!1)}),[e]),Object(j.useEffect)((function(){var e=null;if(0!==n&&(e=setInterval((function(){a(Object(C.c)(n))}),5e3)),null!==e)return function(){return clearInterval(e)}}),[a,n,e]),O.a.createElement(O.a.Fragment,null,O.a.createElement(Q,null,O.a.createElement("h2",null),n?O.a.createElement(O.a.Fragment,null,O.a.createElement(K,null,0!==e.length?e.map((function(e){return O.a.createElement($,{key:e.id,messageId:e.id,messageText:e.body,senderId:e.senderId,viewed:e.viewed,addedAt:e.addedAt})})):O.a.createElement(W,null,"\u041d\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"),O.a.createElement("div",{ref:t})),O.a.createElement(ae,null)):O.a.createElement(W,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043b\u043e\u0433")))},le=n(103);t.default=Object(h.a)((function(){var e=Object(E.d)(k),t=Object(E.c)();return Object(j.useEffect)((function(){t(Object(C.d)())}),[t]),0===e.length?O.a.createElement(le.a,null):O.a.createElement("div",null,O.a.createElement("h2",null,O.a.createElement(v.a,null)," \u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440"),O.a.createElement("br",null),O.a.createElement(p.a,null,O.a.createElement(G,{dialogs:e}),O.a.createElement(ce,null)))}))}}]);
//# sourceMappingURL=7.236abfa5.chunk.js.map