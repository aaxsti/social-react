(this["webpackJsonpsocial-react"]=this["webpackJsonpsocial-react"]||[]).push([[7],{519:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e,t,n){var a=e.currentTarget;Math.abs(a.scrollHeight-a.scrollTop-a.clientHeight)<300?!t&&n(!0):t&&n(!1)},r=function(e,t){var n=e.current;null===n||void 0===n||n.scrollIntoView({behavior:"smooth"}),t&&(null===n||void 0===n||n.scrollIntoView({behavior:"smooth"})),window.scrollTo(0,0)}},520:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a,r,c=n(17),l=n(18),o=n(492),i=n(521),u=n.n(i),s=Object(l.b)(o.a)(a||(a=Object(c.a)(["\n  padding: 20px 0 0 0;\n"]))),d=Object(l.b)(u.a)(r||(r=Object(c.a)(["\n  width: 500px;\n  height: 30px;\n"])))},532:function(e,t,n){"use strict";var a=n(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},c=n(13),l=function(e,t){return a.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};l.displayName="CloseCircleOutlined";t.a=a.forwardRef(l)},539:function(e,t,n){"use strict";n.r(t);var a,r,c,l,o,i,u,s,d,b,f,m,g,p=n(493),j=n(0),O=n.n(j),h=n(511),v=n(197),E=n(28),x=n(69),w=n(80),y=function(e){return e.dialogsPage},k=Object(x.a)([y],(function(e){return e.dialogs})),I=Object(x.a)([y],(function(e){return e.messages})),z=Object(x.a)([y],(function(e){return e.selectedUserId})),C=n(195),M=n(17),N=n(18),S=n(492),T=n(286),D=Object(N.b)(S.a)(a||(a=Object(M.a)(["\n  padding-right: 20px;\n  border-right: 1px #ebedee solid;\n"]))),L=Object(N.b)(T.b)(r||(r=Object(M.a)(["\n  width: 300px;\n"]))),U=n(517),A=N.b.p(c||(c=Object(M.a)(["\n  margin: 0;\n  padding: 0;\n  color: gray;\n  font-size: 13px;\n"]))),F=Object(N.b)(S.a)(l||(l=Object(M.a)(["\n  padding-left: 20px;\n"]))),H=Object(N.b)(p.a)(o||(o=Object(M.a)(["\n  background-color: ",";\n  background-color: ",";\n  width: 300px;\n  padding: 10px;\n  //transition: 0.2s;\n\n  //&:hover {\n  //  opacity: 1;\n  //  background-color: #ebedee;\n  //}\n\n  cursor: pointer;\n  border-bottom: 1px #eef0f0 solid;\n"])),(function(e){return"1"===e.selecteddialog&&"#ebedee"}),(function(e){return e.hasnewmessage&&"#e6eff7"})),J=Object(N.b)(S.a)(i||(i=Object(M.a)(["\n  font-size: 16px;\n  margin-left: auto;\n  color: gray;\n"]))),P=n(494),R=n(532),V=function(e){var t=e.hasNewMessage,n=e.photo,a=e.userName,r=e.lastUserActivityDate,c=e.newMessagesCount,l=e.userId,o=Object(E.c)(),i=Object(j.useState)("0"),u=Object(U.a)(i,2),s=u[0],d=u[1],b=r.substr(5,5).split("-").join(".")+" \u0432 "+r.substr(11,5);return O.a.createElement(H,{hasnewmessage:t,selecteddialog:s,onClick:function(){d("1"),o(Object(C.c)(l))}},O.a.createElement(S.a,null,O.a.createElement(P.a,{size:"large",src:n})),O.a.createElement(F,null,O.a.createElement("span",null,a),O.a.createElement(A,null,b)),O.a.createElement(J,null,O.a.createElement("span",null,0!==c&&c," "),O.a.createElement(R.a,null)))},B=function(e){var t=e.dialogs;return O.a.createElement(D,null,O.a.createElement(L,null,t.map((function(e){return O.a.createElement(V,{userId:e.id,key:e.id,userName:e.userName,lastUserActivityDate:e.lastUserActivityDate,newMessagesCount:e.newMessagesCount,photo:e.photos.small,hasNewMessage:e.hasNewMessage})}))))},q=N.b.div(u||(u=Object(M.a)(["\n  overflow-y: auto;\n  height: 100%;\n  border: 1px #ebedee solid;\n  border-radius: 2px;\n  background-color: #f3f5f7;\n"]))),G=Object(N.b)(S.a)(s||(s=Object(M.a)(["\n  padding-left: 20px;\n  max-height: 515px;\n  width: 450px;\n"]))),K=N.b.h1(d||(d=Object(M.a)(["\n  text-align: center;\n  padding-top: 50%;\n  color: gray;\n"]))),Q=N.b.div(b||(b=Object(M.a)(["\n  background-color: ",";\n  border-bottom: 1px #dadcdf solid;\n  padding: 13px 0 5px 10px;\n"])),(function(e){return!e.viewed&&"#e6eff7"})),W=N.b.p(f||(f=Object(M.a)(["\n  padding: 0 0 0 5px;\n  margin: 0;\n  word-wrap: break-word\n"]))),X=Object(N.b)(R.a)(m||(m=Object(M.a)(["\n  color: gray;\n  font-size: 18px;\n  float: right;\n  padding-right: 10px;\n"]))),Y=O.a.memo((function(e){var t=e.messageText,n=e.senderId,a=e.viewed,r=e.messageId,c=Object(E.d)(function(e){return Object(x.a)([k,w.c,w.a],(function(t,n,a){var r=t.find((function(t){return t.id===e}));return e===n?["\u0412\u044b",a]:[null===r||void 0===r?void 0:r.userName,null===r||void 0===r?void 0:r.photos.small]}))}(n)),l=Object(E.c)();return O.a.createElement(Q,{viewed:a},O.a.createElement(P.a,{size:"large",src:c[1],alt:"Dialog message"}),"\xa0",O.a.createElement("b",null,c[0])," ",O.a.createElement(X,{onClick:function(){l(Object(C.b)(r))}}),O.a.createElement(W,null,t))})),Z=n(520),$=n(521),_=n.n($),ee=Object(N.b)(_.a)(g||(g=Object(M.a)(["\n  height: 30px;\n  width: 450px;\n"]))),te=function(){var e=Object(E.d)(z),t=Object(j.useState)(""),n=Object(U.a)(t,2),a=n[0],r=n[1],c=Object(E.c)();return O.a.createElement("form",null,O.a.createElement(p.a,null,O.a.createElement(Z.a,null,O.a.createElement(ee,{placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...",autoSize:!0,onPressEnter:function(t){"Enter"===t.key&&t.preventDefault(),a&&(c(Object(C.e)(e,a)),r(""))},onChange:function(e){return r(e.currentTarget.value)},value:a}))))},ne=n(519),ae=function(){var e=Object(E.d)(I),t=Object(j.useState)(!1),n=Object(U.a)(t,2),a=n[0],r=n[1],c=Object(j.useRef)(null),l=Object(E.d)(z),o=Object(E.c)();Object(j.useEffect)((function(){Object(ne.a)(c,a)}),[e]),Object(j.useEffect)((function(){var t=null;if(0!==l&&(t=setInterval((function(){console.log(l,e),o(Object(C.c)(l))}),3e3)),null!==t)return function(){return clearInterval(t)}}),[e,l]);return O.a.createElement(O.a.Fragment,null,O.a.createElement(G,null,l?O.a.createElement(O.a.Fragment,null,O.a.createElement(q,{onScroll:function(e){Object(ne.b)(e,a,r)}},0!==e.length?e.map((function(e){return O.a.createElement(Y,{key:e.id,messageId:e.id,messageText:e.body,senderId:e.senderId,viewed:e.viewed})})):O.a.createElement(K,null,"\u041d\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"),O.a.createElement("div",{ref:c})),O.a.createElement(te,null)):O.a.createElement(K,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043b\u043e\u0433")))},re=n(103);t.default=Object(v.a)((function(){var e=Object(E.d)(k),t=Object(E.c)();return Object(j.useEffect)((function(){t(Object(C.d)())}),[t]),0===e.length?O.a.createElement(re.a,null):O.a.createElement("div",null,O.a.createElement("h2",null,O.a.createElement(h.a,null)," \u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440"),O.a.createElement(p.a,null,O.a.createElement(B,{dialogs:e}),O.a.createElement(ae,null)))}))}}]);
//# sourceMappingURL=7.5f781dbd.chunk.js.map