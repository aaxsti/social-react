(this["webpackJsonpsocial-react"]=this["webpackJsonpsocial-react"]||[]).push([[7],{519:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t,n){var a=e.currentTarget;Math.abs(a.scrollHeight-a.scrollTop-a.clientHeight)<300?!t&&n(!0):t&&n(!1)}},520:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a,r,c=n(17),l=n(18),o=n(492),u=n(521),i=n.n(u),s=Object(l.b)(o.a)(a||(a=Object(c.a)(["\n  padding: 20px 0 0 0;\n"]))),d=Object(l.b)(i.a)(r||(r=Object(c.a)(["\n  width: 500px;\n  height: 30px;\n"])))},532:function(e,t,n){"use strict";var a=n(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},c=n(13),l=function(e,t){return a.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};l.displayName="CloseCircleOutlined";t.a=a.forwardRef(l)},539:function(e,t,n){"use strict";n.r(t);var a,r,c,l,o,u,i,s,d,b,m,f=n(493),p=n(0),g=n.n(p),j=n(511),O=n(196),E=n(28),h=n(68),v=n(79),x=function(e){return e.dialogsPage},w=Object(h.a)([x],(function(e){return e.dialogs})),y=Object(h.a)([x],(function(e){return e.messages})),k=Object(h.a)([x],(function(e){return e.selectedUser})),z=n(197),C=n(17),M=n(18),N=n(492),I=n(286),D=Object(M.b)(N.a)(a||(a=Object(C.a)(["\n  padding-right: 20px;\n  border-right: 1px #ebedee solid;\n"]))),S=Object(M.b)(I.b)(r||(r=Object(C.a)(["\n  width: 300px;\n"]))),T=M.b.p(c||(c=Object(C.a)(["\n  margin: 0;\n  padding: 0;\n  color: gray;\n  font-size: 13px;\n"]))),L=Object(M.b)(N.a)(l||(l=Object(C.a)(["\n  padding-left: 20px;\n"]))),U=Object(M.b)(f.a)(o||(o=Object(C.a)(["\n  width: 300px;\n  padding: 10px;\n  transition: 0.3s;\n  &:hover {\n    opacity: 1;\n    background-color: #ebedee;\n  }\n  &:focus {\n    background-color: #ebedee;\n  }\n  cursor: pointer;\n  border-bottom: 1px #eef0f0 solid;\n"]))),A=Object(M.b)(N.a)(u||(u=Object(C.a)(["\n  font-size: 16px;\n  margin-left: auto;\n  color: gray;\n"]))),H=n(494),J=n(532),P=function(e){var t=e.photo,n=e.userName,a=e.lastUserActivityDate,r=e.newMessagesCount,c=e.userId,l=Object(E.c)(),o=a.substr(5,5).split("-").join(".")+" \u0432 "+a.substr(11,5);return g.a.createElement(U,{onClick:function(){l(Object(z.b)(c))}},g.a.createElement(N.a,null,g.a.createElement(H.a,{size:"large",src:t})),g.a.createElement(L,null,g.a.createElement("span",null,n),g.a.createElement(T,null,o)),g.a.createElement(A,null,g.a.createElement("span",null,r," "),g.a.createElement(J.a,null)))},R=function(e){var t=e.dialogs;return g.a.createElement(D,null,g.a.createElement(S,null,t.map((function(e){return g.a.createElement(P,{userId:e.id,key:e.id,userName:e.userName,lastUserActivityDate:e.lastUserActivityDate,newMessagesCount:e.newMessagesCount,photo:e.photos.small,hasNewMessage:e.hasNewMessage})}))))},B=n(517),F=M.b.div(i||(i=Object(C.a)(["\n  padding: 10px;\n  overflow-y: auto;\n  height: 100%;\n  border: 1px #ebedee solid;\n  border-radius: 2px;\n  background-color: #f3f5f7;\n"]))),V=Object(M.b)(N.a)(s||(s=Object(C.a)(["\n  padding-left: 20px;\n  max-height: 515px;\n  width: 450px;\n"]))),q=M.b.div(d||(d=Object(C.a)(["\n  border-bottom: 1px #dadcdf solid;\n  padding: 5px;\n"]))),G=M.b.p(b||(b=Object(C.a)(["\n  padding: 0 0 0 5px;\n  margin: 0;\n  word-wrap: break-word\n"]))),K=g.a.memo((function(e){var t=e.messageText,n=e.senderId,a=Object(E.d)(function(e){return Object(h.a)([w,v.c],(function(t,n){var a;return e===n?"\u0412\u044b":null===(a=t.find((function(t){return t.id===e})))||void 0===a?void 0:a.userName}))}(n)),r=Object(E.d)(v.a);return g.a.createElement(q,null,g.a.createElement(H.a,{size:"large",src:r,alt:"Dialog message"}),"\xa0",g.a.createElement("b",null,a),g.a.createElement(G,null,t))})),Q=n(520),W=n(521),X=n.n(W),Y=Object(M.b)(X.a)(m||(m=Object(C.a)(["\n  height: 30px;\n  width: 450px;\n"]))),Z=function(){var e=Object(E.d)(k),t=Object(p.useState)(""),n=Object(B.a)(t,2),a=n[0],r=n[1],c=Object(E.c)();return g.a.createElement("form",null,g.a.createElement(f.a,null,g.a.createElement(Q.a,null,g.a.createElement(Y,{placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...",autoSize:!0,onPressEnter:function(t){"Enter"===t.key&&t.preventDefault(),a&&(c(Object(z.d)(e,a)),r(""))},onChange:function(e){return r(e.currentTarget.value)},value:a}))))},$=n(519),_=function(){var e=Object(E.d)(y),t=Object(p.useState)(!1),n=Object(B.a)(t,2),a=n[0],r=n[1],c=Object(p.useRef)(null),l=Object(E.d)(k);Object(p.useEffect)((function(){var e;a&&(null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]);return g.a.createElement(g.a.Fragment,null,!!l&&g.a.createElement(V,null,g.a.createElement(F,{onScroll:function(e){Object($.a)(e,a,r)}},e.map((function(e){return g.a.createElement(K,{key:e.id,messageText:e.body,senderId:e.senderId})})),g.a.createElement("div",{ref:c})),g.a.createElement(Z,null)))},ee=n(103);t.default=Object(O.a)((function(){var e=Object(E.d)(w),t=Object(E.c)();return Object(p.useEffect)((function(){t(Object(z.c)())}),[t]),e?g.a.createElement("div",null,g.a.createElement("h2",null,g.a.createElement(j.a,null)," \u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440"),g.a.createElement(f.a,null,g.a.createElement(R,{dialogs:e}),g.a.createElement(_,null))):g.a.createElement(ee.a,null)}))}}]);
//# sourceMappingURL=7.b98c85e3.chunk.js.map