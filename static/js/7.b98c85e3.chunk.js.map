{"version":3,"sources":["utils/scroll-chat-helper.ts","components/forms/AddMessageForm/AddMessageForm.styled.ts","../node_modules/@ant-design/icons-svg/es/asn/CloseCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js","selectors/dialogs-selectors.ts","components/Dialogs/Dialogs/Dialogs.styled.ts","components/Dialogs/Dialog/Dialog.styled.ts","components/Dialogs/Dialog/Dialog.tsx","components/Dialogs/Dialogs/Dialogs.tsx","components/Dialogs/DialogsChat/DialogsChat.styled.ts","components/Dialogs/DialogsChat/DialogMessage/DialogMessage.styled.ts","components/Dialogs/DialogsChat/DialogMessage/DialogMessage.tsx","components/forms/AddDialogMessageForm/AddDialogMessageForm.styled.ts","components/forms/AddDialogMessageForm/AddDialogMessageForm.tsx","components/Dialogs/DialogsChat/DialogsChat.tsx","pages/DialogsPage/DialogsPage.tsx"],"names":["scrollChatHelper","e","isAutoScroll","setIsAutoScroll","element","currentTarget","Math","abs","scrollHeight","scrollTop","clientHeight","AddMessageFormElement","styled","Col","AddMessageFormTextArea","TextArea","CloseCircleOutlined","props","ref","React","AntdIcon","Object","assign","icon","CloseCircleOutlinedSvg","displayName","dialogsPage","state","selectDialogs","createSelector","dialogs","selectDialogMessages","messages","selectDialogUser","selectedUser","DialogsListCol","DialogsList","List","DialogDate","p","DialogItemInfo","DialogItem","Row","DialogItemRight","Dialog","photo","userName","lastUserActivityDate","newMessagesCount","userId","dispatch","useDispatch","formattedDate","substr","split","join","onClick","getDialogMessages","size","src","Dialogs","map","d","id","key","photos","small","hasNewMessage","DialogChatWindow","div","DialogMessagesBlock","DialogMessageElement","DialogMessageText","memo","messageText","senderId","selectedUserName","useSelector","selectAuthorizedUserId","find","dialog","selectUserName","profileImage","selectAuthorizedUserAvatar","alt","AddDialogMessageFormTextArea","AddDialogMessageForm","useState","message","setMessage","placeholder","autoSize","onPressEnter","event","preventDefault","sendDialogMessage","onChange","value","DialogsChat","messagesAnchorRef","useRef","useEffect","current","scrollIntoView","behavior","onScroll","m","body","withAuthRedirect","getDialogs","MessageOutlined","Preloader"],"mappings":"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","file":"static/js/7.b98c85e3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const scrollChatHelper = (\r\n    e: React.UIEvent<HTMLDivElement, UIEvent>,\r\n    isAutoScroll: boolean,\r\n    setIsAutoScroll: (bool: boolean) => void) => {\r\n\r\n    const element = e.currentTarget;\r\n    if (Math.abs((element.scrollHeight - element.scrollTop) - element.clientHeight) < 300) {\r\n        !isAutoScroll && setIsAutoScroll(true)\r\n    } else {\r\n        isAutoScroll && setIsAutoScroll(false)\r\n    }\r\n}","import styled from \"styled-components\";\r\nimport {Col} from \"antd\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\n\r\nexport const AddMessageFormElement = styled(Col)`\r\n  padding: 20px 0 0 0;\r\n`\r\n\r\nexport const AddMessageFormTextArea = styled(TextArea)`\r\n  width: 500px;\r\n  height: 30px;\r\n`","// This icon file is generated automatically.\nvar CloseCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"close-circle\", \"theme\": \"outlined\" };\nexport default CloseCircleOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CloseCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/CloseCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CloseCircleOutlined = function CloseCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: CloseCircleOutlinedSvg\n  }));\n};\n\nCloseCircleOutlined.displayName = 'CloseCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(CloseCircleOutlined);","import {AppStateType} from \"../redux/store/redux-store\";\r\nimport { createSelector } from 'reselect'\r\nimport {selectAuthorizedUserId} from \"./auth-selectors\";\r\n\r\nconst dialogsPage = (state: AppStateType) => state.dialogsPage\r\n\r\nexport const selectDialogs = createSelector(\r\n    [dialogsPage],\r\n    dialogsPage => dialogsPage.dialogs\r\n)\r\n\r\nexport const selectDialogMessages = createSelector(\r\n    [dialogsPage],\r\n    dialogsPage => dialogsPage.messages\r\n)\r\n\r\nexport const selectDialogUser = createSelector(\r\n    [dialogsPage],\r\n    dialogsPage => dialogsPage.selectedUser\r\n)\r\n\r\nexport const selectUserName = (senderId: number) => createSelector(\r\n    [selectDialogs, selectAuthorizedUserId],\r\n    (selectDialogs, userId) => {\r\n        if (senderId === userId) return \"Вы\"\r\n        else return selectDialogs.find((dialog) => dialog.id === senderId)?.userName\r\n    }\r\n)","import styled from \"styled-components\";\r\nimport {Col, List} from \"antd\";\r\n\r\nexport const DialogsListCol = styled(Col)`\r\n  padding-right: 20px;\r\n  border-right: 1px #ebedee solid;\r\n`\r\n\r\nexport const DialogsList = styled(List)`\r\n  width: 300px;\r\n`","import styled from \"styled-components\";\r\nimport {Col, Row} from \"antd\";\r\n\r\nexport const DialogDate = styled.p`\r\n  margin: 0;\r\n  padding: 0;\r\n  color: gray;\r\n  font-size: 13px;\r\n`\r\n\r\nexport const DialogItemInfo = styled(Col)`\r\n  padding-left: 20px;\r\n`\r\n\r\nexport const DialogItem = styled(Row)`\r\n  width: 300px;\r\n  padding: 10px;\r\n  transition: 0.3s;\r\n  &:hover {\r\n    opacity: 1;\r\n    background-color: #ebedee;\r\n  }\r\n  &:focus {\r\n    background-color: #ebedee;\r\n  }\r\n  cursor: pointer;\r\n  border-bottom: 1px #eef0f0 solid;\r\n`\r\n\r\nexport const DialogItemRight = styled(Col)`\r\n  font-size: 16px;\r\n  margin-left: auto;\r\n  color: gray;\r\n`","import React, {FC} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {getDialogMessages} from \"../../../redux/dialogs-reducer\";\r\nimport {DialogDate, DialogItem, DialogItemInfo, DialogItemRight} from \"./Dialog.styled\";\r\nimport {Avatar, Col} from \"antd\";\r\nimport {CloseCircleOutlined} from \"@ant-design/icons\";\r\n\r\ntype PropsType = {\r\n    hasNewMessage: boolean\r\n    lastUserActivityDate: string\r\n    newMessagesCount: number\r\n    photo: string | null\r\n    userName: string\r\n    userId: number\r\n}\r\n\r\nconst Dialog: FC<PropsType> = ({\r\n                                   photo,\r\n                                   userName,\r\n                                   lastUserActivityDate,\r\n                                   newMessagesCount,\r\n                                   userId\r\n                               }) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const formattedDate = lastUserActivityDate\r\n            .substr(5, 5)\r\n            .split('-').join('.') + ' в '\r\n        + lastUserActivityDate.substr(11, 5);\r\n\r\n    const handleSelect = () => {\r\n        dispatch(getDialogMessages(userId))\r\n    }\r\n\r\n    return (\r\n        <DialogItem onClick={handleSelect}>\r\n            <Col>\r\n                <Avatar size={'large'} src={photo}/>\r\n            </Col>\r\n            <DialogItemInfo>\r\n                <span>{userName}</span>\r\n                <DialogDate>{formattedDate}</DialogDate>\r\n            </DialogItemInfo>\r\n            <DialogItemRight>\r\n                <span>{newMessagesCount} </span>\r\n                <CloseCircleOutlined/>\r\n            </DialogItemRight>\r\n        </DialogItem>\r\n    );\r\n}\r\n\r\nexport default Dialog;","import React, {FC} from \"react\";\r\nimport {DialogType} from \"../../../types/types\";\r\nimport {DialogsList, DialogsListCol} from \"./Dialogs.styled\";\r\nimport Dialog from \"../Dialog/Dialog\";\r\n\r\nconst Dialogs: FC<{ dialogs: Array<DialogType> }> = ({dialogs}) => {\r\n    return (\r\n        <DialogsListCol>\r\n            <DialogsList>\r\n                {dialogs.map(d => <Dialog\r\n                    userId={d.id}\r\n                    key={d.id}\r\n                    userName={d.userName}\r\n                    lastUserActivityDate={d.lastUserActivityDate}\r\n                    newMessagesCount={d.newMessagesCount}\r\n                    photo={d.photos.small}\r\n                    hasNewMessage={d.hasNewMessage}\r\n                />)}\r\n            </DialogsList>\r\n        </DialogsListCol>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import styled from \"styled-components\";\r\nimport {Col} from \"antd\";\r\n\r\nexport const DialogChatWindow = styled.div`\r\n  padding: 10px;\r\n  overflow-y: auto;\r\n  height: 100%;\r\n  border: 1px #ebedee solid;\r\n  border-radius: 2px;\r\n  background-color: #f3f5f7;\r\n`\r\n\r\nexport const DialogMessagesBlock = styled(Col)`\r\n  padding-left: 20px;\r\n  max-height: 515px;\r\n  width: 450px;\r\n`","import styled from \"styled-components\";\r\n\r\nexport const DialogMessageElement= styled.div`\r\n  border-bottom: 1px #dadcdf solid;\r\n  padding: 5px;\r\n`\r\n\r\nexport const DialogMessageText = styled.p`\r\n  padding: 0 0 0 5px;\r\n  margin: 0;\r\n  word-wrap: break-word\r\n`","import React, {FC} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Avatar} from \"antd\";\r\nimport {selectAuthorizedUserAvatar} from \"../../../../selectors/auth-selectors\";\r\nimport { DialogMessageElement, DialogMessageText } from \"./DialogMessage.styled\";\r\nimport {selectUserName} from \"../../../../selectors/dialogs-selectors\";\r\n\r\ntype DialogMessagePropsType = {\r\n    messageText: string\r\n    senderId: number\r\n}\r\n\r\nconst DialogMessage: FC<DialogMessagePropsType> = ({messageText, senderId}) => {\r\n\r\n    const selectedUserName = useSelector(selectUserName(senderId))\r\n    const profileImage = useSelector(selectAuthorizedUserAvatar)\r\n\r\n    return (\r\n        <DialogMessageElement>\r\n            <Avatar size={'large'} src={profileImage} alt=\"Dialog message\"/>&nbsp;\r\n             <b>{selectedUserName}</b>\r\n            <DialogMessageText>{messageText}</DialogMessageText>\r\n        </DialogMessageElement>\r\n    );\r\n}\r\n\r\nexport default React.memo(DialogMessage);","import styled from \"styled-components\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\n\r\nexport const AddDialogMessageFormTextArea = styled(TextArea)`\r\n  height: 30px;\r\n  width: 450px;\r\n`","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectDialogUser} from \"../../../selectors/dialogs-selectors\";\r\nimport React, {useState} from \"react\";\r\nimport {sendDialogMessage} from \"../../../redux/dialogs-reducer\";\r\nimport {Row} from \"antd\";\r\nimport {AddMessageFormElement} from \"../AddMessageForm/AddMessageForm.styled\";\r\nimport {AddDialogMessageFormTextArea} from \"./AddDialogMessageForm.styled\";\r\n\r\nconst AddDialogMessageForm = () => {\r\n    const selectedUser = useSelector(selectDialogUser)\r\n\r\n    const [message, setMessage] = useState<string>('')\r\n    const dispatch = useDispatch()\r\n\r\n    const sendMessageHandler = (event: React.KeyboardEvent) => {\r\n        if (event.key === 'Enter'){\r\n            event.preventDefault();\r\n        }\r\n        if (!message) {\r\n            return;\r\n        }\r\n        dispatch(sendDialogMessage(selectedUser, message))\r\n        setMessage('')\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <Row>\r\n                <AddMessageFormElement>\r\n                    <AddDialogMessageFormTextArea\r\n                        placeholder=\"Напишите сообщение...\"\r\n                        autoSize\r\n                        onPressEnter={sendMessageHandler}\r\n                        onChange={(e) => setMessage(e.currentTarget.value)}\r\n                        value={message}>\r\n                    </AddDialogMessageFormTextArea>\r\n                </AddMessageFormElement>\r\n                {/*<AddMessageFormElement>*/}\r\n                {/*    <Button onKeyDown={sendMessageHandler}>*/}\r\n                {/*        <SendOutlined/>*/}\r\n                {/*    </Button>*/}\r\n                {/*</AddMessageFormElement>*/}\r\n            </Row>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default AddDialogMessageForm;","import {useSelector} from \"react-redux\";\r\nimport {selectDialogMessages, selectDialogUser} from \"../../../selectors/dialogs-selectors\";\r\nimport {DialogChatWindow, DialogMessagesBlock} from \"./DialogsChat.styled\";\r\nimport React, {useEffect, useRef, useState} from \"react\";\r\nimport DialogMessage from \"./DialogMessage/DialogMessage\";\r\nimport AddDialogMessageForm from \"../../forms/AddDialogMessageForm/AddDialogMessageForm\";\r\nimport {scrollChatHelper} from \"../../../utils/scroll-chat-helper\";\r\n\r\nconst DialogsChat = () => {\r\n    const messages = useSelector(selectDialogMessages)\r\n    const [isAutoScroll, setIsAutoScroll] = useState<boolean>(false)\r\n    const messagesAnchorRef = useRef<HTMLDivElement>(null)\r\n    const selectedUser = useSelector(selectDialogUser)\r\n\r\n    useEffect(() => {\r\n        if (isAutoScroll) {\r\n            messagesAnchorRef.current?.scrollIntoView({behavior: 'smooth'})\r\n        }\r\n    }, [messages])\r\n\r\n    const scrollHandler = (e: React.UIEvent<HTMLDivElement, UIEvent>) => {\r\n        scrollChatHelper(e, isAutoScroll, setIsAutoScroll)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!!selectedUser &&\r\n            <DialogMessagesBlock>\r\n                <DialogChatWindow onScroll={scrollHandler}>\r\n                    {\r\n                        messages.map(m => <DialogMessage\r\n                            key={m.id}\r\n                            messageText={m.body}\r\n                            senderId={m.senderId}\r\n                        />)\r\n                    }\r\n                    <div ref={messagesAnchorRef}>\r\n\r\n                    </div>\r\n                </DialogChatWindow>\r\n\r\n                <AddDialogMessageForm/>\r\n\r\n            </DialogMessagesBlock>\r\n            }\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default DialogsChat;","import {Row} from \"antd\"\r\nimport React, {FC, useEffect} from \"react\"\r\nimport {MessageOutlined} from \"@ant-design/icons\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectDialogs} from \"../../selectors/dialogs-selectors\";\r\nimport {getDialogs} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"../../components/Dialogs/Dialogs/Dialogs\";\r\nimport DialogsChat from \"../../components/Dialogs/DialogsChat/DialogsChat\";\r\nimport Preloader from \"../../components/common/Preloader/Preloader\";\r\n\r\nconst DialogsPage: FC = () => {\r\n    const dialogs = useSelector(selectDialogs);\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getDialogs())\r\n    }, [dispatch]);\r\n\r\n    if (!dialogs) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2><MessageOutlined/> Мессенджер</h2>\r\n            <Row>\r\n                <Dialogs dialogs={dialogs}/>\r\n                <DialogsChat/>\r\n            </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withAuthRedirect(DialogsPage);"],"sourceRoot":""}